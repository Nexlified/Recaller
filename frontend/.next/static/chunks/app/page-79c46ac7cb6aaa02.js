(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2516:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(3464),r=s(9509);let n=a.A.create({baseURL:r.env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=localStorage.getItem("token"),s=localStorage.getItem("tenantId")||"default";return t&&(e.headers.Authorization="Bearer ".concat(t)),s&&(e.headers["X-Tenant-ID"]=s),e}),n.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});class l{async login(e){let t=new FormData;t.append("username",e.username),t.append("password",e.password);let s=(await n.post("/login",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data;localStorage.setItem("token",s.access_token);let a=(await n.get("/users/me")).data;return localStorage.setItem("user",JSON.stringify(a)),{user:a,token:s}}async register(e){return(await n.post("/register",e)).data}async logout(){localStorage.removeItem("token"),localStorage.removeItem("user")}getCurrentUser(){{let e=localStorage.getItem("user");return e?JSON.parse(e):null}}getToken(){return localStorage.getItem("token")}isAuthenticated(){let e=this.getToken(),t=this.getCurrentUser();return!!(e&&t)}}let i=new l},3792:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),r=s(2115),n=s(6874),l=s.n(n),i=s(2516);function o(){let[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{t(i.A.getCurrentUser()),n(!1)},[]);let o=async()=>{await i.A.logout(),t(null)};return s?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-lg",children:"Loading..."})}):e?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Recaller"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome back, ",e.full_name||e.email]})]}),(0,a.jsx)("button",{onClick:o,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign Out"})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,a.jsx)("div",{className:"border-4 border-dashed border-gray-200 rounded-lg p-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Your personal assistant dashboard will be available here soon."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Finances"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Manage your financial information"})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Contacts"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Keep track of your connections"})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Activities"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Plan and track social activities"})]})]})]})})})})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Welcome to Recaller"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Your privacy-first personal assistant app"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(l(),{href:"/login",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign In"}),(0,a.jsx)(l(),{href:"/register",className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create Account"})]})]})})}},4616:(e,t,s)=>{Promise.resolve().then(s.bind(s,3792))}},e=>{e.O(0,[997,441,964,358],()=>e(e.s=4616)),_N_E=e.O()}]);